---
layout: post
title: "JS 핵심 가이드 - 정규표현식"
categories: javascript
tags: JavaScript
---

###### <자바스크립트 핵심 가이드>, 더글라스 크락포드 저 | 김명신 역

<br>

## CHAPTER 07 정규표현식

- JS의 많은 부분은 다른 언어들에서 차용한 것이다.
  - <u>구문</u>은 `자바`에서 비롯
  - <u>함수</u>는 `Scheme`에서 비롯
  - <u>프로토타입에 의한 상속</u>은 `Self`에서 비롯
  - <u>정규표현식</u>은 `Perl`에서 비롯
- 정규표현식은 간단한 언어 구문의 특화된 형태이다.
- 정규표현식은 문자열에서 특정 내용을 찾거나 대체 또는 발췌하는데 사용한다.
- 정규표현식은 보통 **같은 문자열에 대해 반복해서 연산을 수행할 때 주목할 만한 성능상의 이점**이 있다.
- 정규표현식을 바르게 읽기 위해서는 복잡한 정규표현식 체계 전체를 온전히 이해해야 한다.
- JS의 정규표현식은 주석이나 공백을 허용하지 않기 때문에 다소 읽기가 어렵다.

<br>

### 01 예제

- 정규표현식은 한 줄이어야만 한다.
- 공백 문자(white space)는 사용할 수 없다.
- 정규표현식은 길이가 짧고 간단할 때 최상이라고 할 수 있다.
- 가장 이식성이 떨어지는 부분이 정규표현식 구현 부분이다.

<br>

- 분해

> `^`: 문자열의 시작을 나타낸다.
>
> `[…]`: 문자 클래스를 나타낸다.
>
> 접미사 `+`: 문자 클래스가 한 번 이상 일치한다는 것을 나타낸다.
>
> `:`: 그 위치에 `:` 문자가 일치해야 한다는 뜻이다.
>
> `\/`: `/(슬래시)`와 일치해야 한다는 것을 의미한다.
>
> `\(백슬래시)`: 이스케이프.
>
> `\d`: 숫자 문자를 나타낸다.
>
> `*`: 0번 이상 일치한다는 것을 의미한다.
>
> `$`: 문자열의 끝을 의미한다.
>
> `i`: 문자가 일치하는지를 검사할 때 대소문자를 구분하지 않게 한다.
>
> `\d`: 숫자에 대응한다. (= `[0-9]`)
>
> `+`: 하나 이상의 숫자에 일치한다는 것을 의미한다.

<br>

### 02 정규표현식 객체 생성

- 정규표현식 객체인 RegExp 객체는 `정규표현식 리터럴`과 `정규표현식 RegExp 생성자` 두 가지 방법으로 만들 수 있다.

```javascript
// JS의 문자열에 일치하는 정규표현식 객체 생성

var my_regexp = /"(?:\\.|[^\\\"])*"/g;
```

```javascript
// JS의 문자열에 일치하는 정규표현식 객체 생성

var my_regexp =
    new RegExp ("\"(?:\\.|[^\\\\\\\"]*\"", 'g'));
```

- RegExp에는 3가지 플래그가 있다.
  - `g`: 여러 번 일치한다. (정확한 의미는 메소드에 따라 다름) (Global)
  - `i`: 대소문자를 구분하지 않는다. (Insensitive)
  - `m`: `^`와 `$`이 라인 끝 문자에 일치할 수 있다. (Multiline)

<br>

### 03 구성요소

- 각 시퀀스는 `|` 문자로 구분된다.

<br>

#### 시퀀스

- 각각의 요소 뒤에는 정규표현식 요소가 몇 번 반복해서 나오는지를 나타내는 수량자(*, + 등)를 선택적으로 붙일 수 있다.
- 수량자(quantifier)가 없다면 그 요소는 정확히 한 번 일치하는 것이다.

<br>

#### 정규표현식 요소

- 정규표현식 요소는 문자, 괄호로 묶인 그룹, 문자 클래스, 이스케이프 시퀀스 등이 될 수 있다.
- 제어문자나 다음과 같은 특별한 문자를 제외한 모든 문자는 리터럴로 다뤄진다.
  - `\ / [ ] ( ) { } ? + * | . ^ $`
  - 이 문자들이 리터럴로 다뤄지게 하려면 앞에 `\`를 붙여 `이스케이프`시켜야 한다.
  - 의심이 가는 경우 원하는 <u>특수 문자 앞에</u> `\`를 붙여 리터럴로 만들 수 있다.
  - 일반 숫자나 문자 앞에는 `\`를 붙여봤자 효용이 없다.

<br>

#### 이스케이프

- `역슬래시(\)`는 정규표현식 요소와 문자열에서 모두 이스케이프됐다는 것을 나타낸다.
- 하지만 `\b`는 역스페이스 문자가 아니다.
- 분해

> `\d`: 아라비아 숫자에 일치한다. (= `[0-9]`)
>
> `\D`: (= `[^0-9]`)
>
> `\w`: (= `[0-9A-Z_a-z]`)
>
> `\W`: (= `[^0-9A-Z_a-z]`)
>
> `\b`: 단어 경계를 나타내어 텍스트를 문자 기반으로 일치시키기 쉽게 하기 위해 고안된 것이다.
>
> `\1`: 첫 번째 그룹에 캡처된 텍스트에 대한 참조이다.

<br>

#### 그룹

1. 캡처: 캡처 그룹은 괄호로 묶인 정규표현식 선택이다.
2. 비캡처: 비캡처 그룹은 `(?:` 접두어가 있다.
3. 긍정형 룩어헤드 (positive lookahead): `(?=` 접두어를 갖는다.
4. 부정형 룩어헤드 (negative lookahead): `(?!` 접두어를 갖는다.

<br>

#### 클래스

- 클래스는 특정 문자 집합 하나를 지정하는데 편리한 방법이다.
- 클래스는 두 가지의 편리함을 제공한다.
  - 문자의 범위를 지정할 수 있다.
  - 부정형 클래스이다. (다음에 `^`를 붙이면 클래스는 지정된 문자들을 배제한다.)

<br>

#### 클래스 내의 이스케이프

- `[\b]`는 단어 경계가 아니고, 역스페이스 문자이다.

<br>

#### 수량자 (Quantifier)

- 정규표현식 요소에는 뒤에 붙어 요소가 몇 번 일치해야 하는지를 결정하는 수량자가 있다.
- 중괄호로 묶인 숫자는 표현식 요소가 일치하는 회수를 의미한다.
  - `/www/` = `/w{3}/`
  - `{3, 6}` = 3번에서 6번 일치한다는 의미
  - `{3,}` = 3번 이상을 의미
  - `?` = `{0,1}`
  - `*` = `{0,}`
  - `+` = `{1,}`