---
layout: post
title: "CDN (컨텐츠 전송 네트워크)"
categories: dev
tags: etc
---

###### Content Delivery Network 또는 Content Distribution Network

<br>

- 컨텐츠 전송 네트워크(CDN)는 컨텐츠를 효율적으로 전달하기 위해 여러 노드를 가진 네트워크에 데이터를 저장하여 제공하는 시스템을 말한다.
- 대용량 파일을 안정적으로 제공하기 위해 구상된 기술로, 구상 과정에서 자주 사용되는 파일의 병목현상을 해결할 수 있다.
- 인터넷 서비스 제공자(ISP)에 직접 연결되어 데이터를 전송하므로, 컨텐츠 병목을 피할 수 있는 장점이 있다.
- 대용량 파일뿐만 아니라 네트워크 트래픽 자체를 줄이기 위한 기술로 caching과 비슷하다.
- CDN의 목적은 높은 사용성과 효율로 사용자에게 컨텐츠를 전달함에 있다.
- 컨텐츠 제공자는 그들의 컨텐츠를 사용자들에게 전달하기 위해서 CDN 회사에 사용료를 지불한다.
- 반대로 CDN은 데이터 센터에서의 서버 호스팅 비용을 지불한다.
- CDN은 컨텐츠 제공자 서버의 트래픽을 덜어주어 컨텐츠 제공자의 비용을 줄여준다.
- CDN은 대규모 분산 서버 장비로 공격 트래픽을 완화할 수 있으므로, 컨텐츠 제공자에게 DoS 공격에 대해서 어느 정도 보호해줄 수 있다.
- ISP 네트워크 말단에 캐시 서버 여러 대를 설치하고, 사용 요청이 오면 요청지에서 제일 가까운 복수의 캐시 서버에서 데이터를 가져와 전송한다.
- 다수로 분산되어 제공되는 P2P라고 오해할 수도 있지만, CDN은 캐시 서버가 설치된 지역 또는 국가의 데이터를 우선적으로 전송한다.

<br>

#### 오많배

- AWS `S3` (HDD)에 있는 파일에 대해서 요청이 아주 많으면 부하가 일고 비용이 발생한다.
- 크롬 브라우저 개발자 도구의 Network 탭에서 size란을 보면 `from memory cache`를 볼 수 있다.
- 강제 새로고침(`cmd` + `shift` + `R`)을 해보면, 일반 새로고침과 다르게,  `Waterfall` 로딩 시간이 약간 더 걸리는 것을 체감한다.
- 최초 누군가 요청을 한 파일은 작은 메모리 공간인 캐시에 저장되어 있다.
- CDN은 문제점이 하나 있는데, 파일을 읽을 때 **용량으로 읽지 않고, 파일명을 읽는다.**
- 파일에 수정이 있을 경우, 에러가 발생하기 때문에 백엔드 개발자가 정한 시간마다 캐시를 비우는 것(`Cache Flush`)으로 문제를 해결한다.
- 오많배

<br>